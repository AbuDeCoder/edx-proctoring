<div class="sequence" data-exam-id="{{exam_id}}">
    <div class="gated-sequence">
        This is a timed exam. Would you like to <a class='start-timed-exam' data-ajax-url="{{enter_exam_endpoint}}">enter</a> it?
    </div>
</div>

<script type="text/javascript">
  $('.start-timed-exam').click(
    function(event) {
      var target = $(event.target);
      var action_url = target.data('ajax-url');
      var exam_id = target.parent().parent().data('exam-id');
      $.post(
        action_url,
        {
          "exam_id": exam_id,
        },
        function(data) {
          // reload the page, because we've unlocked it
          location.reload();
        }
      );
    }
  );
</script>
